/*
Plugin Name: France regions HTML 5 map
Plugin URI: http://cmap.comersis.com/
Description: France regions map.
Version: france-free-1.032
Author: S.Marmion
Author URI: http://www.cmap.comersis.com
License: non-comercial
*/

// MAP CONFIG  ///////////////////////////////////////////////////////////////////////

var mapcolor = "#70ABF3";			// couleur de fond de carte
var mapcolor_hover = "#FF0000";		// couleur de survol de la souris
var maplines = "#FFFFFF";			// couleur des traits de séparation des régions

//


// MAP LINKS  ///////////////////////////////////////////////////////////////////////

var paths = {
   R0: {
      title: "Grand-Est",
      url: "#",
      path: "1032,272,1028,268,1024,272,1020,264,1012,260,1008,260,1008,264,1004,268,996,268,996,264,992,252,984,248,984,244,980,240,972,232,964,232,952,224,948,228,944,228,944,232,940,236,932,232,932,228,924,228,920,224,904,224,900,228,892,232,888,220,884,216,884,216,880,216,880,220,880,216,876,216,880,212,876,208,864,204,860,200,848,192,844,196,840,192,840,184,840,180,832,172,836,160,840,156,840,148,832,148,824,156,824,168,808,176,788,176,784,176,788,188,784,196,788,200,776,216,772,216,772,244,768,252,760,248,740,256,740,260,744,276,736,284,736,288,736,292,740,296,724,316,724,320,720,324,728,344,732,348,724,356,720,360,720,376,728,380,736,392,744,408,748,404,752,412,764,436,792,432,796,432,800,428,812,428,824,420,840,424,840,428,844,428,844,436,852,436,856,440,856,448,852,452,856,464,876,468,880,468,880,476,892,472,892,472,892,468,908,460,912,464,916,460,920,444,924,436,928,440,932,432,932,428,932,428,948,416,964,424,976,424,984,432,996,424,1012,440,1016,436,1016,436,1032,448,1032,468,1036,468,1044,476,1044,476,1048,480,1048,484,1052,488,1060,484,1068,484,1072,480,1068,476,1076,472,1076,468,1080,464,1080,456,1076,456,1076,440,1080,416,1080,412,1076,408,1076,396,1084,384,1084,372,1088,368,1088,360,1092,344,1092,336,1096,328,1100,324,1116,304,1120,284,1096,276,1092,280,1072,276,1072,276,1068,272,1060,268,1060,264,1056,260,1044,272,1032,272"
   },
   R1: {
      title: "Nouvelle Aquitaine",
      url: "#",
      path: "348,552,352,564,360,572,372,608,368,624,376,628,356,636,352,632,336,632,340,628,324,632,328,632,324,640,316,652,320,652,324,656,332,672,328,676,328,688,320,692,320,700,316,700,312,704,316,712,336,724,336,732,348,736,356,748,360,768,356,772,348,756,332,740,328,728,320,736,320,740,308,844,308,836,316,828,324,836,324,844,320,844,316,844,312,848,308,852,304,856,304,868,300,892,284,972,276,984,264,1000,260,1004,252,1004,252,1012,264,1012,264,1020,268,1020,272,1016,280,1020,284,1020,288,1024,280,1040,276,1044,280,1048,288,1048,288,1040,296,1040,292,1044,304,1048,308,1052,312,1052,324,1060,336,1064,340,1060,344,1064,344,1072,352,1072,360,1080,364,1084,364,1080,372,1084,380,1080,384,1060,384,1056,392,1052,392,1048,408,1028,408,1020,412,1020,412,1004,404,1004,408,1000,404,984,388,984,388,980,396,956,396,944,412,940,416,944,420,940,420,936,428,936,432,932,448,932,460,928,476,928,484,928,488,916,496,916,492,912,500,900,496,896,496,892,512,888,508,868,512,860,524,848,536,840,536,832,544,828,548,804,564,804,580,816,588,812,604,812,612,808,608,800,616,800,616,792,620,788,616,784,632,764,632,756,644,760,640,732,644,728,644,716,632,704,652,684,648,672,648,664,640,644,628,636,624,628,612,628,608,628,580,624,576,628,552,632,548,636,544,632,532,632,528,632,528,624,524,624,520,612,512,612,504,604,504,592,488,564,484,556,476,552,476,556,456,560,452,556,448,544,444,544,440,536,432,528,416,544,412,536,392,536,380,540,372,548,348,552"
   },
   R2: {
      title: "Auvergne-Rhône Alpes",
      url: "#",
      path: "776,636,776,624,772,620,756,612,744,584,728,596,720,588,716,592,700,592,688,580,680,580,672,588,652,592,648,596,652,608,648,612,632,616,624,628,628,636,640,644,648,664,648,672,652,684,632,704,644,716,644,728,640,732,644,760,632,756,632,764,616,784,620,788,616,792,616,800,608,800,612,808,604,812,604,824,612,836,612,848,616,856,628,852,640,856,648,844,656,824,664,816,676,824,680,832,684,836,684,844,688,852,688,852,700,820,704,824,720,812,728,816,728,828,744,828,744,824,748,824,768,840,772,860,788,888,804,900,816,888,816,896,824,892,828,892,840,900,840,892,852,892,860,900,876,892,884,896,888,892,888,904,908,904,908,912,920,916,928,908,936,904,936,896,916,884,912,880,920,868,928,872,932,864,924,860,932,848,944,848,944,840,944,832,956,832,960,824,984,816,992,820,992,808,984,800,980,792,984,784,1000,792,1004,788,1016,784,1020,780,1032,776,1036,780,1040,776,1048,768,1052,768,1060,764,1064,740,1056,740,1048,732,1044,720,1044,712,1040,712,1036,708,1032,708,1028,696,1028,688,1040,688,1044,684,1048,672,1036,660,1032,664,1032,652,1024,648,1024,648,1028,632,1020,624,1020,620,1016,616,996,620,988,628,984,624,980,628,976,636,980,640,980,644,972,648,968,652,960,652,956,656,952,652,952,648,956,644,964,640,964,636,968,624,960,620,948,636,936,640,928,640,928,636,920,632,912,640,904,640,904,636,900,636,892,620,880,612,868,616,856,612,844,656,832,640,832,644,824,640,820,644,816,640,812,644,812,652,800,660,796,656,776,656,768,652,768,644,776,636"
   },
   R3: {
      title: "Normandie",
      url: "#",
      path: "552,164,540,172,524,180,520,180,508,184,488,188,484,192,452,208,444,228,444,232,448,236,464,240,464,240,448,244,440,252,428,256,416,260,404,252,376,248,356,244,348,244,344,248,340,244,340,236,332,224,336,212,336,208,332,204,320,200,312,208,308,208,284,200,280,200,280,204,284,208,288,212,284,216,284,220,284,224,288,236,292,244,296,248,296,252,300,264,308,264,304,268,304,280,304,288,308,300,304,312,304,324,312,336,320,332,316,336,312,340,304,340,300,340,308,360,316,360,328,352,340,356,340,356,356,356,364,364,368,360,376,364,388,360,408,356,408,352,416,352,420,364,424,368,424,376,432,376,456,364,460,364,464,384,480,392,484,392,492,400,496,400,496,400,496,384,512,372,512,356,500,348,500,340,504,336,516,332,528,324,536,328,548,324,548,320,560,304,556,292,560,288,568,288,576,268,576,268,584,264,576,248,580,228,576,212,584,200,576,184,552,164"
   },
   R4: {
      title: "Bourgogne-Franche-Comté",
      url: "#",
      path: "932,428,932,428,932,432,928,440,924,436,920,444,916,460,912,464,908,460,892,468,892,472,892,472,880,476,880,468,876,468,856,464,852,452,856,448,856,440,852,436,844,436,844,428,840,428,840,424,824,420,812,428,800,428,796,432,792,432,764,436,752,412,748,404,744,408,736,392,728,380,720,376,688,384,688,396,680,404,692,420,696,432,684,444,688,448,684,452,672,460,680,468,684,480,680,484,676,488,680,500,676,512,680,516,688,532,688,544,692,548,692,560,688,580,700,592,716,592,720,588,728,596,744,584,756,612,772,620,776,624,776,636,768,644,768,652,776,656,796,656,800,660,812,652,812,644,816,640,820,644,824,640,832,644,832,640,844,656,856,612,868,616,880,612,892,620,900,636,904,636,904,640,912,640,920,632,928,636,928,640,936,640,948,636,960,620,964,600,968,592,988,572,988,568,988,556,988,552,992,548,992,548,1004,544,1008,536,1012,532,1020,524,1028,512,1028,504,1032,500,1036,496,1024,496,1028,488,1032,476,1040,480,1044,476,1036,468,1032,468,1032,448,1016,436,1016,436,1012,440,996,424,984,432,976,424,964,424,948,416,932,428"
   },
   R5: {
      title: "Bretagne",
      url: "#",
      path: "336,384,340,380,340,356,340,356,328,348,316,360,308,356,300,336,284,340,276,336,280,328,276,328,272,328,268,332,264,336,272,348,268,352,268,348,264,344,264,336,256,336,256,336,252,336,248,340,244,332,240,336,244,328,236,328,220,336,216,344,208,344,208,348,204,340,200,336,196,324,180,308,184,304,176,308,172,312,176,304,176,300,172,300,164,308,168,304,164,300,164,304,156,300,152,304,148,304,144,300,140,304,136,304,136,320,128,324,124,316,112,316,112,324,108,320,104,324,104,312,96,312,96,316,88,316,72,320,68,316,60,320,56,320,52,324,56,328,52,324,48,328,52,328,40,328,36,328,32,332,32,336,36,340,32,340,28,352,32,356,40,356,44,356,60,352,64,352,72,344,60,356,60,360,64,356,72,360,68,360,76,364,72,368,76,372,84,372,72,372,68,364,60,364,48,364,48,360,48,364,44,368,48,376,52,372,68,376,72,384,68,388,64,392,60,388,36,392,32,392,44,400,52,396,48,400,52,404,56,408,60,420,56,424,64,428,76,428,76,420,80,420,80,416,84,408,80,416,88,424,92,424,92,416,104,428,108,432,112,432,112,424,112,432,120,428,116,432,116,436,128,436,128,432,132,436,136,448,140,444,144,444,144,432,144,436,148,440,152,436,144,444,152,448,144,448,156,452,160,448,156,456,160,460,160,468,160,472,164,476,160,468,164,460,168,464,176,464,176,456,180,460,184,460,192,460,196,464,196,472,192,468,180,468,188,476,216,476,224,476,216,476,220,484,248,476,248,464,260,456,284,456,288,448,308,440,320,448,324,444,328,424,340,420,336,384,336,384"
   },
   R6: {
      title: "Centre",
      url: "#",
      path: "680,404,680,404,656,412,640,408,644,408,644,400,636,392,636,384,628,384,624,388,620,380,616,388,600,388,596,368,588,368,584,364,580,352,568,340,568,320,560,304,548,320,548,324,536,328,528,324,520,332,508,332,500,340,500,344,512,356,512,372,496,384,500,400,500,400,504,408,500,412,496,416,500,420,504,432,488,452,484,456,480,464,464,472,460,472,460,480,448,472,448,480,444,500,432,528,444,536,444,544,448,544,452,556,456,560,480,556,476,552,488,556,488,564,504,592,504,604,512,612,520,612,524,624,532,624,528,632,532,636,544,632,548,636,556,632,576,628,580,624,608,628,616,628,624,628,632,616,652,612,652,608,652,596,656,592,672,588,684,580,692,580,692,560,696,548,688,544,688,532,684,516,676,512,680,500,676,488,680,484,684,480,680,468,676,460,684,452,688,448,688,444,696,432,696,420,680,404,680,404"
   },
   R8: {
      title: "Corse",
      url: "#",
      path: "1148,964,1144,968,1144,1004,1128,1000,1120,1012,1100,1020,1096,1024,1092,1024,1088,1032,1088,1040,1080,1048,1080,1056,1084,1052,1092,1060,1080,1068,1084,1080,1100,1088,1092,1092,1088,1112,1104,1104,1104,1116,1100,1132,1120,1136,1108,1140,1108,1148,1116,1156,1140,1164,1144,1168,1148,1172,1160,1140,1156,1140,1160,1136,1164,1128,1164,1096,1176,1072,1168,1016,1156,1008,1160,984,1156,964,1148,964,1148,964"
   },
   R11: {
      title: "Ile-de-France",
      url: "file:///android_asset/region.html",
      path: "700,288,696,284,692,284,676,288,668,284,664,288,652,288,628,276,624,280,604,272,592,276,580,276,576,268,568,288,560,288,556,292,560,304,568,320,568,340,580,352,584,364,588,368,596,368,600,388,616,388,620,380,624,388,628,384,636,384,636,392,644,400,644,408,640,408,656,412,680,404,680,404,688,396,688,380,720,376,720,356,728,356,732,348,728,344,720,324,724,320,728,316,708,304,700,296,700,288,700,288"
   },
   R12: {
      title: "Occitanie",
      url: "#",
      path: "612,848,612,836,604,824,604,812,588,812,580,816,564,804,548,804,544,828,536,832,536,840,524,848,512,860,508,868,512,888,496,892,496,896,500,900,492,912,496,916,488,916,484,928,476,928,460,928,448,932,432,932,428,936,420,936,420,940,416,944,412,940,396,944,396,956,388,980,388,984,404,984,408,1000,404,1004,412,1004,412,1020,408,1020,408,1028,392,1048,392,1052,384,1056,384,1060,380,1080,384,1076,400,1088,400,1092,408,1096,412,1100,424,1096,432,1096,436,1100,444,1100,448,1096,452,1100,456,1096,476,1100,476,1084,476,1080,516,1088,520,1096,540,1096,544,1108,552,1112,552,1108,560,1104,564,1108,568,1108,572,1112,580,1116,576,1116,576,1120,572,1124,576,1128,592,1132,596,1140,600,1144,612,1140,612,1136,620,1136,624,1132,640,1140,648,1144,652,1144,656,1144,660,1144,664,1136,668,1136,676,1136,688,1128,704,1132,708,1132,708,1124,700,1120,696,1068,700,1060,708,1040,716,1036,728,1024,740,1024,748,1012,744,1020,756,1012,768,1000,776,996,788,988,792,988,796,996,800,1000,804,1000,812,992,824,988,824,980,832,972,840,972,840,952,860,932,848,920,844,908,840,900,828,892,824,892,816,896,816,888,804,900,788,888,772,860,768,840,748,824,744,824,744,828,728,828,728,816,720,812,704,824,700,820,688,852,688,852,684,844,684,836,680,832,676,824,664,816,656,824,648,844,640,856,628,852,616,856,612,848"
   },
   R16: {
      title: "Hauts-de-France",
      url: "#",
      path: "696,72,680,76,680,80,676,80,668,80,664,68,656,68,652,56,652,56,656,52,652,44,648,32,640,36,632,36,616,40,612,44,608,44,584,52,572,64,572,72,568,84,568,96,572,104,572,104,568,124,576,128,576,128,572,124,568,124,568,136,576,148,572,148,568,144,564,148,556,160,552,164,576,184,584,200,576,212,580,228,576,248,584,264,576,268,580,276,592,276,604,276,624,280,628,276,652,288,664,292,668,288,672,288,692,284,696,284,700,288,700,296,708,304,724,316,724,316,740,296,736,292,736,288,736,284,744,276,740,260,740,256,760,248,768,252,772,244,772,216,776,216,788,200,784,196,788,188,784,176,780,172,780,168,784,160,784,152,776,152,780,144,784,136,780,136,768,124,760,128,756,124,744,128,744,132,740,128,740,124,740,120,736,108,732,108,724,108,728,104,720,104,716,108,712,108,708,100,704,88,704,84,696,72"
   },
   R17: {
      title: "Pays-de-la-Loire",
      url: "#",
      path: "388,356,376,364,372,360,364,364,360,356,340,356,340,380,336,384,340,420,328,424,324,444,320,448,308,440,288,448,284,456,260,456,248,464,248,476,220,484,220,484,220,488,216,488,212,496,212,504,220,508,224,504,232,512,244,504,256,504,244,508,240,512,244,516,240,520,236,524,252,532,256,540,252,540,252,548,244,556,240,560,240,564,260,584,264,596,268,608,284,620,292,620,300,628,304,628,312,632,312,636,312,632,320,640,320,632,328,636,340,628,340,636,352,632,356,636,376,628,372,624,372,608,360,572,352,564,348,552,372,548,380,540,392,536,412,536,416,544,432,528,444,500,448,480,448,472,460,480,460,472,464,472,480,464,484,456,488,452,504,432,500,420,496,416,500,412,504,408,500,400,492,400,484,392,480,392,464,384,460,364,456,364,432,376,428,376,428,368,420,364,416,352,408,352,408,356,388,356,388,356"
   },
   R20: {
      title: "Provence-Alpes-Cote-d-Azur",
      url: "#",
      path: "944,840,944,848,932,848,928,860,932,868,928,872,920,868,912,880,916,884,936,896,936,908,928,908,920,916,912,912,908,908,892,904,888,892,884,896,880,892,860,904,856,892,840,892,844,900,848,908,848,920,860,932,844,952,840,976,832,972,824,984,828,988,816,992,808,1004,808,1004,836,1004,840,1004,840,1008,840,1012,844,1016,860,1016,864,1016,868,1016,864,1008,868,1004,876,1004,884,1016,904,1016,908,1012,912,1016,912,1020,916,1028,912,1032,932,1032,932,1036,940,1032,944,1032,956,1044,956,1048,960,1048,964,1044,968,1048,968,1040,972,1040,976,1044,980,1044,988,1048,984,1052,988,1048,988,1044,992,1040,996,1040,1008,1040,1008,1036,1016,1032,1024,1028,1032,1028,1036,1020,1028,1016,1040,1004,1040,1000,1056,996,1056,988,1056,984,1060,980,1068,980,1072,976,1076,976,1076,972,1080,964,1084,964,1088,960,1092,960,1096,956,1100,956,1108,948,1108,944,1108,940,1108,936,1116,924,1120,920,1120,916,1124,912,1124,908,1120,900,1120,896,1116,900,1092,904,1092,904,1084,904,1076,896,1060,892,1048,876,1052,868,1044,860,1044,852,1048,848,1052,840,1056,836,1060,832,1056,824,1056,816,1052,816,1040,812,1032,808,1032,804,1028,800,1028,796,1024,792,1020,784,1004,788,1000,792,984,784,980,792,984,800,996,808,992,820,988,816,960,824,960,832,948,832,944,840,944,840"
   }
};

function francefree(){
var cmap = '';
cmap += '<link rel="stylesheet" href="cmap/style.css" type="text/css" media="screen" />';
cmap += '<script src="cmap/jquery-1.11.1.min.js"></script>';
cmap += '<script src="cmap/France-map.js"></script>';
cmap += '<map  name="map"><div id="areas"></div> </map><img id="canvasMap" id="image" src="cmap/trans.gif" usemap="#map"/>';
cmap += '<canvas id="canvas"></canvas><div id="container"><div id="question">Situez la region "Ile-de-France"</div>';
cmap += '<div> <div id="erreur"></div> <div id="buttonDiv"></div> </div></div>';

document.write(""+cmap+"");
}

$(function(){
        var map = $("#map");
        var areas = $("#areas");
        var canvas = $("#canvas")[0];
		canvas.width = 1200;
        canvas.height = 1200;
        var c = canvas.getContext("2d");
        $.fn.render = function(){
          this.data.apply(this, arguments);
          render();
        }
        function clear(){
          c.fillStyle = "#FFFFFF";
          c.fillRect(0, 0, canvas.width, canvas.height);
        }
	arr = new Array();
    for (var country in paths) {
        var obj = paths[country].path;
		var lnk = paths[country].url;
		var txt = paths[country].title;
        $('<area />', {
          shape : "poly",
          coords : ""+obj+"",
          alt : ""+txt+""
        }).data({
          fillStyle: mapcolor,
          strokeStyle : maplines,
          lineWidth : 1.2,
		  alt : ""+txt+"",
		  link: lnk
        }).mouseenter(function(){
          $(this).render({strokeStyle: maplines,
                          fillStyle : mapcolor_hover});
		 render();
        }).mouseleave(function(){
          $(this).render({strokeStyle: maplines,
                          fillStyle : mapcolor});
		$("div#legende").html("");
        }).click(function(){
            var link = $(this).data("link");
            var clicked = $(this).attr("alt");
            if(clicked == "Ile-de-France") {
                var btn = $("<input />", {
                    id: "button",
                    type: "button",
                    value: "Next Question",
                });
                $("div#buttonDiv").html(btn);
                $("div#erreur").html("Bonne Reponse! tu es trop fort!");
                $("#button").click(function() {
                    window.location = link;
                });
            }
            else {
              $("div#erreur").html("Faux! ceci est la region: " + clicked);
            }
        }).appendTo(areas);
        render();
}
        function fillStroke(fillStyle, strokeStyle){
          if (fillStyle) c.fill();
          if (strokeStyle) c.stroke();
        }
        function render(noClear){
          if (!noClear){
            clear();
          }
          areas.children().each(function(i){
            var area = $(this);
            var shape = area.attr("shape");
            var coords = area.attr("coords").split(",");
            var fillStyle = area.data("fillStyle");
            var strokeStyle = area.data("strokeStyle");
            var lineWidth = area.data("lineWidth");
              if (fillStyle){
                c.fillStyle = fillStyle;
              }
              if (strokeStyle){
                if (lineWidth){
                  c.lineWidth = lineWidth;
                }
                c.strokeStyle = strokeStyle;
              }
              c.beginPath();
              var leng = coords.length;
              c.moveTo(coords[0], coords[1]);
              for (var i = 2; i < leng; i+=2){
                c.lineTo(coords[i], coords[i+1]);
              }
              c.closePath();
              fillStroke(fillStyle, strokeStyle);
            c.lineWidth = 1;
          });
        }
      });
